/* src/components/Main/Main.css */
:root{
  --gap: 1.25rem;
  --speed: .55s cubic-bezier(.25,.46,.45,.94);
  --closed: 5rem;
  --open: 30rem;
  --accent: #7c5cff;
  --header-h: 80px;
  --top-space: 28px;  /* 헤더와 카드 사이 간격 */
}

main.home{
  padding-top: 20px;
}

.projects{
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* 화살표 */
.nav-arrow{
  position: absolute;
  top: 40%;
  transform: translateY(-50%);
  z-index: 50;
  width: 42px; height: 42px;
  border-radius: 999px;
  border: none;
  background: rgba(0,0,0,.45);
  color: #fff;
  display:flex; align-items:center; justify-content:center;
  cursor: pointer;
  backdrop-filter: blur(4px);
}
.nav-arrow.left{ left: 12px; }
.nav-arrow.right{ right: 12px; }
.nav-arrow:disabled{ opacity:.35; cursor: default; }

/* 트랙 */
.track{
  position:relative;
  min-height:380px;
  display:flex;
  gap:var(--gap);
  align-items:flex-start;
  justify-content:center;
  scroll-behavior:smooth;
  scroll-snap-type:x mandatory;
  padding: 8px 60px 24px; /* 좌우 화살표 공간 */
  width: 100%;
}
.track::-webkit-scrollbar{ display:none; }

/* 카드 */
.project-card{
  position: relative;
  flex: 0 0 auto;
  width: var(--closed);
  height: 26rem;
  border-radius: 1rem;
  overflow: hidden;
  cursor: pointer;
  transition: width var(--speed), transform var(--speed), box-shadow var(--speed);
  background: #000;
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
  z-index: 3;
}
.project-card.active{
  width: var(--open);
  transform: translateY(-6px);
  box-shadow: 0 18px 55px rgba(0,0,0,.45);
}
.project-card__bg{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit:cover; display:block;
  filter:brightness(.9);
  transition:filter .4s ease, transform .4s ease;
}
.project-card:hover .project-card__bg{ transform:scale(1.05); filter:brightness(1); }

.project-card__content{
  position:absolute; inset:0;
  display:flex; flex-direction:column;
  justify-content:flex-end; align-items:flex-start;
  padding:1.3rem 1.4rem;
  background:linear-gradient(to top,rgba(0,0,0,.65) 15%,transparent 70%);
  z-index:2;
}
.project-card__title{
  color:#fff; font-weight:800; font-size:1.3rem;
  margin-bottom:0.35rem; text-shadow:0 2px 8px rgba(0,0,0,.5);
}
.project-card__desc{ color:#eee; font-size:1rem; line-height:1.4; max-width:22rem; }
.project-card__btn{
  margin-top:.6rem; padding:.55rem 1.2rem; border:none; border-radius:999px;
  background:var(--accent); color:#fff; font-size:.9rem; font-weight:600; cursor:pointer;
}

/* 접힌 상태 라벨 */
.project-card:not(.active) .project-card__title{
  position:absolute; left:14px; top:50%;
  transform:translateY(-50%);
  writing-mode:vertical-rl; text-orientation:upright;
  line-height:1.1; letter-spacing:.12em;
  padding:.28rem .22rem; border-radius:.5rem;
  background:rgba(0,0,0,.22); color:#fff;
}
.project-card:not(.active) .project-card__desc,
.project-card:not(.active) .project-card__btn{ display:none !important; }

/* dots */
.dots{
  display:flex; gap:10px; margin: 8px 0 0;
  z-index: 10;
}
.dot{
  width:10px; height:10px; border-radius:50%;
  background:#d1d5db; border: none;
}
.dot.active{ background:#6366f1; }

/* ──────────────
   공지 모달 (메인)
   ────────────── */
.notice-modal__backdrop{
  position: fixed; inset: 0;
  background: rgba(10,15,30,.48);
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px);
  display: flex; align-items: center; justify-content: center;
  z-index: 3000;
}
.notice-modal__panel{
  width: min(860px, 92vw);
  max-height: 88vh;
  background: #fff;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 30px 70px rgba(0,0,0,.35);
  display: flex; flex-direction: column;
}
.notice-modal__header{
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 18px;
  background: linear-gradient(90deg, #1a2980 0%, #26d0ce 100%);
  color: #e9fcff;
}
.notice-modal__title{ font-size: 1.05rem; font-weight:800; margin:0; letter-spacing:.2px; }
.notice-modal__close{
  appearance:none; border:none; background: rgba(255,255,255,.18);
  color:#fff; font-size:20px; line-height:1; width:36px; height:36px;
  border-radius:10px; cursor:pointer;
}
.notice-modal__hero{
  width:100%; height: 320px; overflow:hidden; background:#000;
  border-bottom: 1px solid #eef2f7;
}
.notice-modal__hero img{ width:100%; height:100%; object-fit:cover; filter:brightness(.95); }

.notice-modal__body{
  padding: 18px 22px;
  overflow:auto;          /* 본문만 스크롤 */
}
.notice-modal__p{ font-size: 1rem; line-height: 1.6; color: #1a2a4a; margin: 0 0 1rem 0; }
.notice-modal__input{
  flex:1; border:1px solid #d2d6dc; border-radius:10px; padding:10px 12px;
}

/* 카드 배경 div (img 대체) */
.project-card__bgimg{
  position:absolute; inset:0;
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  border-radius:inherit;
}

/* ==========================
   공통 섹션 헤더
   ========================== */
.section-head {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto 16px;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 12px;
  align-items: flex-start;
}
.section-title {
  margin: 0;
  font-size: 1.2rem;
  font-weight: 700;
  color: #1a2980;
}
.section-empty {
  grid-column: 1 / -1;
  text-align: center;
  font-size: 0.95rem;
  color: #555;
  padding: 40px 0;
  background: rgba(255,255,255,0.6);
  border-radius: 16px;
  box-shadow: 0 12px 28px rgba(0,0,0,.08);
}

/* ==========================
   섹션 컨테이너들
   ========================== */
.upcoming-festival,
.weather-reco {
  margin-top: 60px;
  width: 100%;
  padding: 0 24px 60px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ==========================
   날씨 요약 박스
   ========================== */
.weather-summary-box {
  width: 100%;
  max-width: 1200px;
  box-sizing: border-box;
  background: linear-gradient(
    90deg,
    rgba(26, 41, 128, 0.08) 0%,
    rgba(38, 208, 206, 0.08) 100%
  );
  border: 1px solid rgba(26,41,128,0.12);
  border-radius: 16px;
  padding: 16px 20px;
  margin-bottom: 20px;
  box-shadow: 0 10px 24px rgba(0,0,0,.06);

  display: none;
  flex-wrap: wrap;
  gap: 16px;
  color: #043344;
}

.weather-now-left {
  min-width: 120px;
}
.weather-now-sky {
  font-size: 1rem;
  font-weight: 600;
  color: #1a2980;
}
.weather-now-temp {
  font-size: 2rem;
  font-weight: 700;
  color: #1a2980;
  line-height: 1.2;
}
.weather-now-right {
  flex: 1;
  min-width: 180px;
  font-size: 0.95rem;
  line-height: 1.4;
  color: #043344;
}
.weather-now-msg {
  margin: 0;
  white-space: pre-line;
}

/* ==========================
   카드 그리드 (2×2 고정)
   ========================== */
.card-grid {
  width: 100%;
  max-width: 1200px;
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* ← 2열 고정 */
  gap: 20px;
  justify-items: center;
}

/* ==========================
   개별 카드 (축제/코스 공용)
   ========================== */
.info-card {
  background: #fff;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 12px 28px rgba(0,0,0,.08);
  display: flex;
  flex-direction: column;
}

.info-thumb {
  position: relative;
  width: 100%;
  height: 180px;
  overflow: hidden;
  background: #000;
}
.info-thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(.95);
}
.info-chip {
  position: absolute;
  left: 12px;
  bottom: 12px;
  background: rgba(0,0,0,.55);
  color: #fff;
  font-size: 0.8rem;
  line-height: 1.2;
  padding: 6px 10px;
  border-radius: 10px;
}

.info-body {
  padding: 16px 18px 20px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  color: #043344;
}

.info-name {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 700;
  color: #1a2980;
  line-height: 1.4;
}

.info-meta {
  margin: 0;
  font-size: 0.85rem;
  color: #333;
  line-height: 1.4;
}

.select-ghost {
  margin-left: 12px;
  border: 1px solid #dfe8f4;
  padding: 6px 10px;
  border-radius: 10px;
  background: #fff;
}

/* ==========================
   Weather Course — Polishing
   ========================== */

/* 요약 박스: 유리톤 + 살짝 더 입체감 */
.weather-summary-box{
  background: linear-gradient(180deg, rgba(255,255,255,.72), rgba(255,255,255,.58));
  border: 1px solid rgba(26,41,128,0.10);
  box-shadow: 0 18px 45px rgba(14, 30, 62, 0.10);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border-radius: 18px;
}
.weather-now-sky{ font-size: 1.05rem; letter-spacing: .2px; }
.weather-now-temp{ font-size: 2.2rem; }

/* 카드: 더 둥글고 가벼운 그림자, hover 살짝 띄우기 */
.info-card{
  border-radius: 18px;
  box-shadow: 0 16px 38px rgba(10, 26, 56, .10);
  transition: transform .18s ease, box-shadow .18s ease;
  overflow: hidden;
  background: linear-gradient(180deg,#fff, #fafdff);
}
.info-card:hover{
  transform: translateY(-3px);
  box-shadow: 0 24px 60px rgba(10,26,56,.14);
}

/* 썸네일: 높이 키우고, 어두운 그라데이션 살짝 */
.info-thumb{
  height: 220px;                  /* ↑ 180 → 220 */
  background: #eaf6ff;
  position: relative;
}
.info-thumb::after{
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,.28) 10%, rgba(0,0,0,0) 65%);
  pointer-events: none;
}

/* 배지: 더 작고 또렷, 글자 선명 */
.info-chip{
  left: 12px;
  bottom: 12px;
  background: rgba(12,16,28,.55);
  padding: 6px 10px;
  border-radius: 12px;
  font-size: .8rem;
  letter-spacing: .2px;
  box-shadow: 0 8px 18px rgba(0,0,0,.18);
}

/* 본문 텍스트: 줄바꿈 정리 & 라인클램프 */
.info-body{ gap: 8px; }
.info-name{
  font-size: 1.05rem;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
  overflow: hidden;
}
.info-desc{
  color: #3e5870;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
  overflow: hidden;
}

/* 2×2 균형 유지 + 작은 화면 대응 */
.card-grid{
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 22px;
}


/* ===== Festival list — colored cards ===== */

/* 6개 가로 유지 */
.festival-list {
  display: flex;
  flex-wrap: wrap;
  gap: 18px 22px;
  padding: 0 28px 36px;
  list-style: none;
}

/* 기본 카드 베이스 (경계 약하게, 살짝 블러 그림자) */
.festival-item {
  width: calc((100% - (22px * 5)) / 6);
  min-width: 180px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 10px;
  padding: 16px 18px;
  border-radius: 16px;
  border: 1px solid rgba(15,27,43,0.06);
  box-shadow: 0 8px 22px rgba(15,27,43,0.07);
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, filter .2s ease;
  backdrop-filter: saturate(112%);
}

/* 파스텔 팔레트 6종 (행마다 반복) */
.festival-item:nth-child(6n+1) { background: linear-gradient(180deg,#EAF7FF 0%, #F7FBFF 100%); }
.festival-item:nth-child(6n+2) { background: linear-gradient(180deg,#EFFFF4 0%, #F7FFFB 100%); }
.festival-item:nth-child(6n+3) { background: linear-gradient(180deg,#FFF6EA 0%, #FFFBF6 100%); }
.festival-item:nth-child(6n+4) { background: linear-gradient(180deg,#F2ECFF 0%, #FAF8FF 100%); }
.festival-item:nth-child(6n+5) { background: linear-gradient(180deg,#FFF0F3 0%, #FFF7F8 100%); }
.festival-item:nth-child(6n+6) { background: linear-gradient(180deg,#ECFFF6 0%, #F7FFFB 100%); }

.festival-item:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 26px rgba(15,27,43,0.12);
  border-color: rgba(15,27,43,0.12);
  filter: saturate(115%);
}

/* 제목/배지/메타는 기존 클래스 그대로 사용 */
.festival-title {
  margin: 0;
  font-weight: 800;
  font-size: 1.02rem;
  color: #0e1b2b;
  line-height: 1.25;
  display: -webkit-box;
  -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
}
.festival-area {
  margin-right: 6px; padding: 2px 6px; border-radius: 8px;
  font-size: .78rem; font-weight: 700; color:#35506a; background: rgba(53,80,106,.10);
}
.festival-meta { display: grid; gap: 6px; color: #3b4758; }
.festival-row { display: flex; align-items:center; gap: 6px; font-size: .9rem; }
.festival-row .ico { width: 18px; text-align:center; opacity:.88; }

/* 네이버 버튼은 녹색(브랜드)로 유지 */
.festival-link{
  align-self:flex-start; margin-top:2px; padding:8px 12px; border-radius:10px;
  font-size:.86rem; font-weight:700; color:#fff; text-decoration:none;
  background: linear-gradient(90deg,#00bf18,#17cf2a);
  box-shadow: 0 6px 14px rgba(0,191,24,.22);
  transition: filter .15s ease, transform .08s ease;
}
.festival-link:hover{ filter:brightness(.95); }
.festival-link:active{ transform: translateY(1px); }

#weather-course-section .info-name {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;   /* ✅ 2줄까지만 표시 */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: normal;
  word-break: keep-all;
  line-height: 1.4;
  max-height: calc(1.4em * 2);
}

/* 카드 클릭 오버레이가 카드 밖으로 새는 문제 고정 */
#weather-course-section .info-card{
  position: relative;        /* ✅ 오버레이 기준을 '카드'로 고정 */
  isolation: isolate;        /* 스택 고립: 카드 안에서만 z-index 적용 */
}

#weather-course-section .card-link{
  position: absolute; inset: 0;
  z-index: 0;                /* 오버레이는 제일 아래 */
  text-indent: -9999px; overflow: hidden;
}

#weather-course-section .info-thumb{ position: relative; z-index: 1; }
#weather-course-section .info-body { position: relative; z-index: 2; background:#fff; }
#weather-course-section .info-chip { position: absolute; z-index: 3; }

/* 혹시 남아 있는 가림막(::before/::after) 덮개 제거 */
#weather-course-section .info-card::before,
#weather-course-section .info-card::after,
#weather-course-section .info-thumb::before,
#weather-course-section .info-thumb::after{
  content: none !important;
}

/* === 날씨 추천 코스 카드 레이아웃 정리 === */
#weather-course-section .card-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);  /* ✅ 한 줄 4개 고정 */
  gap: 24px;                               /* 카드 간 간격 */
  width: 100%;
  margin-top: 24px;
}

/* 카드가 특정 width로 고정되지 않도록 */
#weather-course-section .info-card {
  width: 100% !important;    /* ✅ 카드가 칸에 꽉 차게 */
  max-width: none !important;
  margin: 0 !important;
}

/* 카드 오버레이 링크를 카드 맨 위로 올려 클릭 가능하게 */
#weather-course-section .info-card {
  position: relative;
  isolation: isolate;              /* 카드 내부 스택 고립 */
}

#weather-course-section .card-link {
  position: absolute;
  inset: 0;
  display: block;
  z-index: 5;                      /* ✅ 본문/썸네일 위로 올림 */
  text-indent: -9999px;
  overflow: hidden;
  pointer-events: auto;            /* 혹시 다른 규칙이 막고 있으면 보강 */
}

/* 본문/썸네일 레이어는 그대로 두면 OK */
#weather-course-section .info-thumb { position: relative; z-index: 1; }
#weather-course-section .info-body  { position: relative; z-index: 2; background: #fff; }
#weather-course-section .info-chip  { position: absolute; z-index: 6; }  /* 배지는 링크보다 위 */

/* 반응형 열 수 자동 감소 */
@media (max-width:1280px){ .festival-item{ width:calc((100% - (22px * 3)) / 4); } }
@media (max-width:1024px){ .festival-item{ width:calc((100% - (22px * 2)) / 3); } }
@media (max-width:780px) { .festival-item{ width:calc((100% - 22px) / 2); } }
@media (max-width:520px) { .festival-item{ width:100%; } }

@media (max-width: 720px){
  .card-grid{ grid-template-columns: 1fr; }
  .info-thumb{ height: 200px; }
}